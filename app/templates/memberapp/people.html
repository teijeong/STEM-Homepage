{% extends "memberapp/base.html" %}
{% block styles %}
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
<script src="{{url_for('static', filename='adminLTE/dist/js/member_app.js')}}"></script>
<link rel="stylesheet" href="{{url_for('static', filename='adminLTE/dist/css/member.css')}}" />
{% endblock %}

{% block content %}
<section class="content-header">
    <h1>
        People
        <small>STEM People</small>
    </h1>
    <ol class="breadcrumb">
        <li><a href="/stem"><i class="fa fa-users"></i> Home</a></li>
        <li class="active">People</li>
    </ol>
</section>

<section class="content">


<div ng-app="stemApp" ng-controller="memberList">
    <div class="members" ng-view>
        <div ng-repeat="cycle in all_members">
            <h3>{[cycle[0].cycle]}기</h3>
            <a ng-repeat="mem in cycle" class="member-tag" ng-click="openCard(mem.id)">

                <div class="member-picture">
                    <div class="member-picture-container">
                        <img class="member-picture-thumb" src="/static/upload/{[ mem.img || 'profile/default.png']}">
                    </div>
                </div>
                <h5>{[mem.user.nickname]}</h5>
            </a>
        </div>

    </div>

    <div class="member-card">   
        <div class="card-body">
            <div class="card-photo">
                <img class="card-cover" src="/static/upload/{[members[pIndex].cover || 'cover/cover_default.gif']}">
            </div>
            <div class="card-desc">
                <h4 class="card-member-name">{[members[pIndex].user.nickname]}</h4>
                <h6 class="card-member-dept">{[members[pIndex].cycle]}기 {[members[pIndex].stem_dept]}, {[members[pIndex].dept]}</h6>
                <p class="card-member-description">{[members[pIndex].cv]}</p>
                <p class="card-member-description">{[members[pIndex].comment]}</p>
                <a class="card-member-social-link" href="{[members[pIndex].social]}">{[members[pIndex].social.split('://')[1]]}</a>
                <a href="/stem/people/{[members[pIndex].id]}">자세히 보기 ></a>
            </div>
        </div>
        <a class="member-card-prev member-card-control" href="javascript:void(0)" ng-click="goPrev()">
            <span>{[prevMember().user.nickname]}</span>
            <i class="fa fa-arrow-left"></i>
        </a>
        <a class="member-card-next member-card-control" href="javascript:void(0)" ng-click="goNext()">
            <i class="fa fa-arrow-right"></i>
            <span>{[nextMember().user.nickname]}</span>
        </a>
        <a href="javascript:void(0)" onclick="closeModal()">
            <i class="modal-close fa fa-remove" style="line-height:22px;"></i>
        </a>
    </div>
</div>
</section>
{% endblock %}

{% block scripts %}

<script src="{{url_for('static', filename='js/jquery.easyModal.js')}}"></script>
<script src="{{url_for('static', filename='adminLTE/dist/js/member.js')}}"></script>
{% endblock %}