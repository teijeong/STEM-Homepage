{% extends "memberapp/base.html" %}
{% block content %}
<section class="content-header">
    <h1>
        Welcome to STEM workbench
        <small>Have a good day!</small>
    </h1>
    <ol class="breadcrumb">
        <li class="active"><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
    </ol>
</section>

<section class="content">
<div class="row">
  <div class="col-xs-12">
    <div class="box box-primary">
      <div class="box-body no-padding">
        <div id="calendar">
        </div>
      </div>
    </div>
  </div>
</div>
</section>
{% endblock %}

{% block modals %}
{% endblock %}

{% block styles %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.3.2/fullcalendar.min.css" />
{% endblock %}

{% block scripts %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.3.2/fullcalendar.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.3.2/gcal.js" type="text/javascript"></script>
<script src="{{url_for('static', filename='adminLTE/plugins/fullcalendar/ko.js')}}" type="text/javascript"></script>

<script type="text/javascript">

$('#calendar').fullCalendar({
    lang: 'ko',
    timeFormat: 'h(:mm)t',
    header: {
      left: 'prev,next today',
      center: 'title',
      right: 'month,agendaWeek,agendaDay'
    },
    buttonText: {
      today: 'today',
      month: 'month',
      week: 'week',
      day: 'day'
    },
    googleCalendarApiKey: 'AIzaSyA2C5FY8AH365dq2APeJZe6_BFtSa6quBc',
    eventSources: [
      {
        googleCalendarId: '8qbpapc1361o57ilrajo13j9fs@group.calendar.google.com',
        color: '#c3d6e0',
        textColor: '#444'
      },
      {
        googleCalendarId: 'ko.south_korea#holiday@group.v.calendar.google.com',
        color: '#e8d197'
      },
      {
        url: '/stem/api/deadlines',
        color: '#ff0080'
      }
    ],
    eventClick: function(event) {
      // opens events in a popup window
      if (event.url.contains("https://www.google.com")) {
        window.open(event.url, 'gcalevent', 'width=700,height=600');
      } else location.href = event.url;
      return false;
    }
});

</script>
{% endblock %}